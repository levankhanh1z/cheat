local showText = true -- Change to false if you don't want to see the esp ore text

if game.PlaceId == 8549934015 then
    excludedOres = {"Magma", "Stone", "Copper", "Basalt", "Amber", "Diorite", "Coal", "Crystallized Stone", "Nickel", "Bedrock", "Gold", "Granite", "Iron", "Marble", "Etherstone", "Prismatistone","Silver","Obsidian","Ice","Voidstone","Ruby","Celestone","Mantle","Goldstone","Barrier","Quartz","Reflectistone","Emerald","Bismuth"}
else
    if game.PlaceId == 14550379349 then
        excludedOres = {"Sodium", "Eboxylite", "Plerivium", }
    end
end

local folder = game:GetService("Workspace").Mine
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local StarterGui = game:GetService("StarterGui")

local function isValidName(name)
    for _, excludedName in pairs(excludedOres) do
        if name == excludedName then
            return true
        end
    end
    return false
end

local function createESP(primary)
    local box = Instance.new("BoxHandleAdornment", primary)
    box.Adornee = primary
    box.AlwaysOnTop = true
    box.ZIndex = 5
    box.Size = primary.Size + Vector3.new(0.1, 0.1, 0.1)
    box.Transparency = 0.5
    box.Color = Color3.new(1, 0, 0) -- You can customize the color

    if showText then
        local billboard = Instance.new("BillboardGui", primary)
        billboard.AlwaysOnTop = true
        billboard.Size = UDim2.new(0, 200, 0, 60)
        billboard.StudsOffset = Vector3.new(0, 3, 0)

        local nameLabel = Instance.new("TextLabel", billboard)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Size = UDim2.new(1, 0, 0.33, 0)
        nameLabel.Text = primary.Name
        nameLabel.Font = Enum.Font.GothamSemibold
        nameLabel.TextColor3 = Color3.new(1, 1, 1)
        nameLabel.TextScaled = true

        local oreNameLabel = Instance.new("TextLabel", billboard)
        oreNameLabel.BackgroundTransparency = 1
        oreNameLabel.Size = UDim2.new(1, 0, 0.33, 0)
        oreNameLabel.Position = UDim2.new(0, 0, 0.33, 0)
        oreNameLabel.Text = "Excluded Ore: " .. primary.Name
        oreNameLabel.Font = Enum.Font.GothamSemibold
        oreNameLabel.TextColor3 = Color3.new(1, 1, 1)
        oreNameLabel.TextScaled = true

        local statusLabel = Instance.new("TextLabel", billboard)
        statusLabel.BackgroundTransparency = 1
        statusLabel.Size = UDim2.new(1, 0, 0.33, 0)
        statusLabel.Position = UDim2.new(0, 0, 0.66, 0)
        statusLabel.Text = "Status: Active"
        statusLabel.Font = Enum.Font.GothamSemibold
        statusLabel.TextColor3 = Color3.new(0, 1, 0)
        statusLabel.TextScaled = true
    end
end

local function isOreExcluded(block)
    if block:IsA("BasePart") and isValidName(block.Name) then
        createESP(block)
    else
        block.Transparency = 0.5
    end
end

for _, part in pairs(folder:GetChildren()) do
    isOreExcluded(part)
end

folder.ChildAdded:Connect(function(child)
    isOreExcluded(child)
end)
