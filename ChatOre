-- LocalScript
local danhSachTen = {"Stone", "Silver", "Copper"}
local soLuongTen = {}

local function tenCoTrongDanhSach(ten)
    for _, tenTrongDanhSach in pairs(danhSachTen) do
        if ten == tenTrongDanhSach then
            return true
        end
    end
    return false
end

local function kiemTraVaGuiTinNhan()
    local soLuongHienTai = {}

    for _, part in pairs(game.Workspace.Mine:GetChildren()) do
        if part:IsA("BasePart") and tenCoTrongDanhSach(part.Name) then
            local ten = part.Name
            soLuongHienTai[ten] = #game.Workspace.Mine:FindPartsInRegion3(part.Position, part.Position, nil, math.huge)
        end
    end

    for ten, soLuong in pairs(soLuongHienTai) do
        if soLuong ~= soLuongTen[ten] then
            soLuongTen[ten] = soLuong

            -- Gửi thông điệp tới chat
            game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(ten.."x"..soLuong, "All")
        end
    end
end

-- Lặp lại kiểm tra và gửi thông điệp theo thời gian (ví dụ: mỗi giây)
while wait(1) do
    kiemTraVaGuiTinNhan()
end
